<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Welcome to My Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://ascodelife.github.io/"/>
  <updated>2020-04-20T05:56:10.753Z</updated>
  <id>https://ascodelife.github.io/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>学习笔记——摆钟的改进</title>
    <link href="https://ascodelife.github.io/2020/04/17/improve-animation-grandfather-clock/"/>
    <id>https://ascodelife.github.io/2020/04/17/improve-animation-grandfather-clock/</id>
    <published>2020-04-17T10:34:01.000Z</published>
    <updated>2020-04-20T05:56:10.753Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在<a href="/2020/04/14/animation-grandfather-clock/#关键点2：时钟刻度">上一篇文章4.1.2节</a>中介绍了时钟刻度的实现方式，对其中时钟数字的摆放位置我们总结出了一套公式进行计算，本篇对数字的摆放给出了更简洁的实现方式。</p><a id="more"></a><h2 id="改进思路"><a href="#改进思路" class="headerlink" title="改进思路"></a>改进思路</h2><p>利用伪元素before，我们可以将数字附加到刻度之前，因为数字会跟着刻度旋转，所以为了保证数字正常显示，我们需要再针对数字进行一次旋转。即总共进行两次旋转，一次整体旋转，一次数字旋转。<br>同时，为了让刻度和数字完全对齐，我们需要在设置伪元素的样式上使用一些技巧。</p><h2 id="代码与细节展示"><a href="#代码与细节展示" class="headerlink" title="代码与细节展示"></a>代码与细节展示</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#clock</span> &#123;</span></span><br><span class="line">            width: 300px;</span><br><span class="line">            height: 300px;</span><br><span class="line">            border-radius: 50%;</span><br><span class="line">            border: 1px solid;</span><br><span class="line">            font-size: 20px;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            height: 5px;</span><br><span class="line">            width: 2px;</span><br><span class="line">            left: 50%;</span><br><span class="line">            background-color: black;</span><br><span class="line"><span class="css">            <span class="comment">/* 中心Y偏移=时钟高度/2 */</span></span></span><br><span class="line">            transform-origin: 0 150px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(5n+1)</span> &#123;</span></span><br><span class="line">            height: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(5n+1)</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置为块级元素，使其宽度可更改 */</span></span></span><br><span class="line">            display: block;</span><br><span class="line"><span class="css">            <span class="comment">/* 文本居中显示 */</span></span></span><br><span class="line">            text-align: center;</span><br><span class="line"><span class="css">            <span class="comment">/* 设置一个足够大的宽度，至少大于字体宽度 */</span></span></span><br><span class="line">            width: 20px;</span><br><span class="line"><span class="css">            <span class="comment">/* 让元素向左偏移宽度的一半，使得字体与刻度线对齐 */</span></span></span><br><span class="line">            margin-left: -10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(1)</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">            content: '12';</span><br><span class="line">            transform: rotate(0deg);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(6)</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">            content: '1';</span><br><span class="line">            transform: rotate(-30deg);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>clock<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clock"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"scale"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale0'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(0deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale1'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(6deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale2'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(12deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale3'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(18deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale4'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(24deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale5'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(30deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="眼见为实"><a href="#眼见为实" class="headerlink" title="眼见为实"></a>眼见为实</h2><iframe src="/demo/frontend/improve-animation-grandfather-clock/clock-scale.html" width=100% height=320px></iframe><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>当然，旋转两次的思路并不是只能用伪元素来实现，只是个人觉得伪元素应用于此让代码显得比较优雅。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;在&lt;a href=&quot;/2020/04/14/animation-grandfather-clock/#关键点2：时钟刻度&quot;&gt;上一篇文章4.1.2节&lt;/a&gt;中介绍了时钟刻度的实现方式，对其中时钟数字的摆放位置我们总结出了一套公式进行计算，本篇对数字的摆放给出了更简洁的实现方式。&lt;/p&gt;
    
    </summary>
    
    
      <category term="front-end" scheme="https://ascodelife.github.io/categories/front-end/"/>
    
    
      <category term="html&amp;css" scheme="https://ascodelife.github.io/tags/html-css/"/>
    
      <category term="css3" scheme="https://ascodelife.github.io/tags/css3/"/>
    
      <category term="学习笔记" scheme="https://ascodelife.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="animation" scheme="https://ascodelife.github.io/tags/animation/"/>
    
  </entry>
  
  <entry>
    <title>学习笔记——纯css3动画实现可显示时间的摆钟</title>
    <link href="https://ascodelife.github.io/2020/04/14/animation-grandfather-clock/"/>
    <id>https://ascodelife.github.io/2020/04/14/animation-grandfather-clock/</id>
    <published>2020-04-14T10:24:34.000Z</published>
    <updated>2020-04-20T05:37:03.178Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上一篇我们简单实验了一下一些预定义的transition-timing-function关键字，实际上这些关键字同样也适用于animation-timing-function.这一篇我们就趁热打铁，配合animation来制作一个可显示时间的摆钟。</p><a id="more"></a><h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><ol><li>在我们实现代码前，首先得知道摆钟长啥样，其次再分析它的各个零部件是如何运动的。下面直接用图片展示吧。<br><img src="/demo/frontend/animation-grandfather-clock/grandfather-clock.gif" alt="avatar"></li><li>从运动规律上看，我们可以把它拆解成两部分，一部分是普通的时钟，指针按不同的频率做圆周运动；一部分是下面的单摆，做着平面单摆运动。因此，在我们实现的时候可以把它分成两部分实现，最后进行组合。</li></ol><h2 id="单摆的具体分析与代码实现"><a href="#单摆的具体分析与代码实现" class="headerlink" title="单摆的具体分析与代码实现"></a>单摆的具体分析与代码实现</h2><p>下面我们将对单摆进行具体分析与代码实现。</p><h3 id="单摆的结构"><a href="#单摆的结构" class="headerlink" title="单摆的结构"></a>单摆的结构</h3><p>静止的单摆无非就是一根线+一个球，球形盒子只需设置圆角属性</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span><span class="selector-pseudo">:50</span>%</span><br></pre></td></tr></table></figure><h3 id="单摆的运动规律"><a href="#单摆的运动规律" class="headerlink" title="单摆的运动规律"></a>单摆的运动规律</h3><p>单摆在最高点速度最0，在最低点速度最大，那么可以使用如下方式模拟它的运动轨迹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">animation-timing-function</span><span class="selector-pseudo">:ease-in-out</span></span><br></pre></td></tr></table></figure><p>单摆是一个理论上无限次地周期性运动，那么则有</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">animation-iteration-count</span><span class="selector-pseudo">:infinite</span>;</span><br><span class="line"><span class="selector-tag">animation-direction</span><span class="selector-pseudo">:alternate</span>;</span><br></pre></td></tr></table></figure><p>假设单摆最高摆到45度，分解它半个周期的关键帧有</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> swing&#123;</span><br><span class="line">    <span class="selector-tag">from</span>&#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>&#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>已知单摆的一个周期为1s，那么综合上述代码可以得到缩写</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">animation</span><span class="selector-pseudo">:swing</span>,<span class="selector-class">.5s</span>,<span class="selector-tag">ease-in-out</span>,<span class="selector-tag">infinite</span>,<span class="selector-tag">alternate</span></span><br></pre></td></tr></table></figure><p>单摆绕着线的末端旋转，那么需要修改他的旋转点</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform-origin</span><span class="selector-pseudo">:center</span> <span class="selector-tag">top</span></span><br></pre></td></tr></table></figure><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        div &#123;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="keyword">@keyframes</span> swing &#123;</span></span><br><span class="line">            from &#123;</span><br><span class="line">                transform: rotate(45deg);</span><br><span class="line">            &#125;</span><br><span class="line">            to &#123;</span><br><span class="line">                transform: rotate(-45deg);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-id">#simple-pendulum</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">animation</span>: <span class="selector-tag">swing</span> <span class="selector-class">.5s</span> <span class="selector-tag">ease-in-out</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line">            width: 30px;</span><br><span class="line">            transform-origin: center top;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-id">#ball</span> &#123;</span></span><br><span class="line">            height: 30px;</span><br><span class="line">            width: 30px;</span><br><span class="line">            background: red;</span><br><span class="line">            border-radius: 100%;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-id">#line</span> &#123;</span></span><br><span class="line">            height: 100px;</span><br><span class="line">            width: 10px;</span><br><span class="line">            background: yellow;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>simple-pendulum<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"simple-pendulum"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"ball"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="眼见为实"><a href="#眼见为实" class="headerlink" title="眼见为实"></a>眼见为实</h3><iframe src="/demo/frontend/animation-grandfather-clock/simple-pendulum.html" width=100% height=150px></iframe><h2 id="时钟的具体分析与代码实现"><a href="#时钟的具体分析与代码实现" class="headerlink" title="时钟的具体分析与代码实现"></a>时钟的具体分析与代码实现</h2><p>下面我们将对时钟进行具体分析与代码实现。</p><h3 id="时钟的结构"><a href="#时钟的结构" class="headerlink" title="时钟的结构"></a>时钟的结构</h3><ol><li>时钟是一个圆形容器。</li><li>容器里面有时针、分针、秒针，长度为时针&lt;分针&lt;秒针。</li><li>时钟里还有刻度和数字，每间隔6°一个小刻度，每间隔30°一个大刻度。  </li></ol><h4 id="关键点1：时钟与指针"><a href="#关键点1：时钟与指针" class="headerlink" title="关键点1：时钟与指针"></a>关键点1：时钟与指针</h4><p>指针在时钟中水平垂直居中并向上偏移指针高度的50%。<br>水平垂直居中是一个老生常谈的问题，下面直接给出一个相对比较好且兼容性强的解决方案，实现原理是依据绝对定位的格式化宽高计算公式<br>计算公式粗略可表示为容器大小=top/right/bottom/left+margin+border+padding+width/height<br>当然有机会的话之后再写一篇文章慢慢分析水平垂直居中。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>:auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后向上偏移指针高度的50%和指针旋转点</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span><span class="selector-pseudo">:translateY(-50</span>%);</span><br><span class="line"><span class="selector-tag">transform-origin</span><span class="selector-pseudo">:center</span> <span class="selector-tag">bottom</span>;</span><br></pre></td></tr></table></figure><h4 id="关键点2：时钟刻度"><a href="#关键点2：时钟刻度" class="headerlink" title="关键点2：时钟刻度"></a>关键点2：时钟刻度</h4><p>虽然这里用js配合jquery实现起来比较简洁，但是作为学习研究，我们要使用一切可能的方法去实现需求。<br>首先时钟是个圆形，我们要先把所有刻度移动到圆的顶部并居中，之后分别绕时钟中心点旋转不同的角度，当然复制粘贴的过程会有点繁琐。<br>对于数字，因为数字不能跟着像刻度一样旋转（旋转了以后数字朝向就变了），所以我们直接用绝对定位，并通过极坐标转直角坐标系的公式，算出偏移值。<br>下面将给出一个标有刻度为1的时钟的实现代码。<br><em>具体数值的计算公式已给出,此处细节处理比较多,能实现较完美的对齐效果。</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#clock</span> &#123;</span></span><br><span class="line">            width: 300px;</span><br><span class="line">            height: 300px;</span><br><span class="line">            border-radius: 50%;</span><br><span class="line">            border: 1px solid;</span><br><span class="line">            font-size: 20px;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            height: 5px;</span><br><span class="line">            width: 2px;</span><br><span class="line">            left: 50%;</span><br><span class="line">            background-color: black;</span><br><span class="line"><span class="css">            <span class="comment">/* 中心Y偏移=时钟高度/2 */</span></span></span><br><span class="line">            transform-origin: 0 150px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.scale</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(5n+1)</span> &#123;</span></span><br><span class="line">            height: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.number</span>&gt;<span class="selector-tag">div</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            line-height: 20px;</span><br><span class="line">            width: 20px;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.number1</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* left=时钟半径+(时钟半径-刻度高度)*cos(-60°)-盒子宽度/2  */</span></span></span><br><span class="line">            left: 205px;</span><br><span class="line"><span class="css">            <span class="comment">/* top=时钟半径+(时钟半径-刻度高度)*sin(-60°)-行高/2 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-tag">top</span>: 27<span class="selector-class">.41px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.number12</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* left=时钟半径+(时钟半径-刻度高度)*cos(270°)-盒子宽度/2  */</span></span></span><br><span class="line">            left: 140px;</span><br><span class="line"><span class="css">            <span class="comment">/* top=时钟半径+(时钟半径-刻度高度)*sin(270°)-行高/2  */</span></span></span><br><span class="line">            top: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>clock<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clock"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"scale"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale0'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(0deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale1'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(6deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale2'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(12deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale3'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(18deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale4'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(24deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'scale5'</span> <span class="attr">style</span>=<span class="string">"transform: rotate(30deg);"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number12"</span>&gt;</span>12<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>眼见为实</p><iframe src="/demo/frontend/animation-grandfather-clock/clock-scale.html" width=100% height=320px></iframe><h3 id="时钟的运动规律"><a href="#时钟的运动规律" class="headerlink" title="时钟的运动规律"></a>时钟的运动规律</h3><p>时钟有三个指针，每个指针的运动频率不同。其中，时针和分针是匀速地连续地周期运动，秒针是匀速地一秒一帧地周期运动。<br>分针的动画粗略可以表示为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> rotation&#123;</span><br><span class="line">    <span class="selector-tag">from</span>&#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>&#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="selector-tag">animation</span><span class="selector-pseudo">:rotation</span> 3600<span class="selector-tag">s</span> <span class="selector-tag">liner</span> <span class="selector-tag">infinite</span></span><br></pre></td></tr></table></figure><p>秒针的动画粗略可以表示为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> rotation&#123;</span><br><span class="line">    <span class="selector-tag">from</span>&#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>&#123;</span><br><span class="line">        <span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="selector-tag">animation</span><span class="selector-pseudo">:rotation</span> 60<span class="selector-tag">s</span> <span class="selector-tag">steps</span>(60,<span class="selector-tag">end</span>) <span class="selector-tag">infinite</span></span><br></pre></td></tr></table></figure><h3 id="眼见为实-1"><a href="#眼见为实-1" class="headerlink" title="眼见为实"></a>眼见为实</h3><p>因为代码比较长，冗余的地方比较多，感兴趣的请自行F12</p><iframe src="/demo/frontend/animation-grandfather-clock/clock.html" width=100% height=320px></iframe><h2 id="最终实现效果"><a href="#最终实现效果" class="headerlink" title="最终实现效果"></a>最终实现效果</h2><p>直接上图不解释(待美化)，感兴趣的请自行F12</p><iframe src="/demo/frontend/animation-grandfather-clock/final.html" width=100% height=580px></iframe><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>作为刚学习动画的菜鸟，css3动画有太多有趣的地方以及实现的细节与技巧。比起js动画，css3动画在实现比较简单的动画时有着较大优势，且不容易出现丢帧的情况，值得深入学习与研究。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;上一篇我们简单实验了一下一些预定义的transition-timing-function关键字，实际上这些关键字同样也适用于animation-timing-function.这一篇我们就趁热打铁，配合animation来制作一个可显示时间的摆钟。&lt;/p&gt;
    
    </summary>
    
    
      <category term="front-end" scheme="https://ascodelife.github.io/categories/front-end/"/>
    
    
      <category term="html&amp;css" scheme="https://ascodelife.github.io/tags/html-css/"/>
    
      <category term="css3" scheme="https://ascodelife.github.io/tags/css3/"/>
    
      <category term="学习笔记" scheme="https://ascodelife.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="animation" scheme="https://ascodelife.github.io/tags/animation/"/>
    
  </entry>
  
  <entry>
    <title>学习笔记——transition-timing-function</title>
    <link href="https://ascodelife.github.io/2020/04/13/transition-timing-function/"/>
    <id>https://ascodelife.github.io/2020/04/13/transition-timing-function/</id>
    <published>2020-04-13T11:32:54.000Z</published>
    <updated>2020-04-14T10:22:46.185Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>transition CSS 属性是 transition-property，transition-duration，transition-timing-function 和 transition-delay 的一个简写属性。<br>其中transition-timing-function潜力最大也最为复杂，值得进行研究。</p><a id="more"></a><h2 id="常用预定义关键字"><a href="#常用预定义关键字" class="headerlink" title="常用预定义关键字"></a>常用预定义关键字</h2><p>我们所知道的常用的easing函数有：linear，ease，ease-in，ease-out，ease-in-out，以及step函数：step-start，step-end，steps(n,start)，steps(n,end)。<br>当然，为了得到更多的自定义easing函数，我们可以去研究贝塞尔(cubic-bezier)曲线，网上也能找到一些有趣的贝塞尔函数值。这里不多做解释，仅对预定义关键字进行演示。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.runner</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span> &#123;</span></span><br><span class="line">            height: 80px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span> &#123;</span></span><br><span class="line">            width: 500px;</span><br><span class="line">            margin: 10px 0px;</span><br><span class="line">            background: yellow;</span><br><span class="line">            text-align: center;</span><br><span class="line">            line-height: 80px;</span><br><span class="line">            font-size: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.runner</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.runner</span> &#123;</span></span><br><span class="line">            transition: transform 1s;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.runner</span> &#123;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">            border: solid;</span><br><span class="line">            line-height: 80px;</span><br><span class="line">            position: absolute;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.runner</span> &#123;</span></span><br><span class="line">            transform: translate(400px);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span>&gt;<span class="selector-class">.linear</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.linear</span> &#123;</span></span><br><span class="line">            transition-timing-function: linear</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span>&gt;<span class="selector-class">.ease-in</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.ease-in</span> &#123;</span></span><br><span class="line">            transition-timing-function: ease-in</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span>&gt;<span class="selector-class">.ease-out</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.ease-out</span> &#123;</span></span><br><span class="line">            transition-timing-function: ease-out</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span>&gt;<span class="selector-class">.ease-in-out</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.ease-in-out</span> &#123;</span></span><br><span class="line">            transition-timing-function: ease-in-out;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span>&gt;<span class="selector-class">.steps-start</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.steps-start</span> &#123;</span></span><br><span class="line">            transition-timing-function: steps(5, start);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.track</span>&gt;<span class="selector-class">.steps-end</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.track</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.steps-end</span> &#123;</span></span><br><span class="line">            transition-timing-function: steps(5, end);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner linear"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            linear赛道，匀速</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner ease"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            ease赛道：默认值，起步快，减速</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner ease-in"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            ease-in赛道：加速</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner ease-out"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            ease-out赛道：减速</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner ease-in-out"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            ease-in-out赛道：先加速后减速</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner steps-start"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            steps(5,start)赛道：20% 40% 60% 80% 100%</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"track"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"runner steps-end"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            steps(5,end)赛道：0 20% 40% 60% 80%</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="眼见为实"><a href="#眼见为实" class="headerlink" title="眼见为实"></a>眼见为实</h2><p>把鼠标悬停到赛道上，看每个runner奔跑吧。<br>   <iframe src="/demo/frontend/transition-timing-function/demo1.html" width=100% height=800px></iframe></p><h2 id="小tips"><a href="#小tips" class="headerlink" title="小tips"></a>小tips</h2><p>此处布局也使用了无依赖绝对定位技巧，不了解的可以看上一篇哦！</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>通过transition-timing-function我们可以得到很多运动轨迹，如何把这些有着不同特点的运动轨迹应用于实际，需要我们不停地实践与积累。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;transition CSS 属性是 transition-property，transition-duration，transition-timing-function 和 transition-delay 的一个简写属性。&lt;br&gt;其中transition-timing-function潜力最大也最为复杂，值得进行研究。&lt;/p&gt;
    
    </summary>
    
    
      <category term="front-end" scheme="https://ascodelife.github.io/categories/front-end/"/>
    
    
      <category term="html&amp;css" scheme="https://ascodelife.github.io/tags/html-css/"/>
    
      <category term="css3" scheme="https://ascodelife.github.io/tags/css3/"/>
    
      <category term="学习笔记" scheme="https://ascodelife.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="transition" scheme="https://ascodelife.github.io/tags/transition/"/>
    
  </entry>
  
  <entry>
    <title>前端窍门——无依赖absolute绝对定位</title>
    <link href="https://ascodelife.github.io/2020/04/12/absolute-positioning-without-dependence/"/>
    <id>https://ascodelife.github.io/2020/04/12/absolute-positioning-without-dependence/</id>
    <published>2020-04-12T15:59:44.000Z</published>
    <updated>2020-04-14T10:28:13.935Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>聊起absolute定位，我们首先想到的就是找其包含块(containing block)或直接给父元素一个relative定位,然后根据包含块通过设置top,right,bottom,left属性值进行偏移。看起来，这是很常见的做法，但盲目的如此”套公式“，只能说你对absolute的理解不到家。</p><a id="more"></a><h2 id="何所谓“依赖”"><a href="#何所谓“依赖”" class="headerlink" title="何所谓“依赖”"></a>何所谓“依赖”</h2><p>所谓“依赖”，指的是绝对定位元素需要找到包含块，然后”依赖“包含块进行偏移或格式化元素的宽高。  </p><p>为了达到我们的目的——让子元素紧紧地“依赖”父元素，我们会“丧心病狂”的硬塞给父元素一个relative定位，甚至配合z-index属性设置层级。</p><p>好吧，先不谈父元素愿意不愿意，既然谈到了“依赖”，就不得不联想到耦合，耦合度越高的代码在应对变化时就越脆弱。</p><h2 id="传统的“有依赖”绝对定位"><a href="#传统的“有依赖”绝对定位" class="headerlink" title="传统的“有依赖”绝对定位"></a>传统的“有依赖”绝对定位</h2><p>既然要聊聊无依赖绝对定位，那么就应该先看看传统的”有依赖”绝对定位在一些经典应用场景是怎么做的，然后我们再谈怎么改进。</p><h3 id="表单提示信息"><a href="#表单提示信息" class="headerlink" title="表单提示信息"></a>表单提示信息</h3><ol><li><p>场景重现：填写表单时，当某个输入框获取焦点时，在输入框右侧显示一些提示信息。</p></li><li><p>场景分析：</p><ol><li>提示信息为不定长，若父元素宽度表现为定长，那么有可能内容会溢出；若父元素宽度表现为包裹性，那么宽度就会改变。</li><li>提示信息的显示和隐藏不能影响原布局，那么使其脱离文档流是最常见的选择。</li></ol></li><li><p>代码实现：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.regist-box</span> &#123;</span></span><br><span class="line">            width: 300px;</span><br><span class="line"><span class="css">            <span class="comment">/* 容器定宽 */</span></span></span><br><span class="line">            margin: 0 auto;</span><br><span class="line"><span class="css">            <span class="comment">/* 为了便于观察给一个边框 */</span></span></span><br><span class="line">            border: 1px solid;</span><br><span class="line"><span class="css">            <span class="comment">/* 使其变成子元素的包含块 */</span></span></span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        input &#123;</span><br><span class="line">            width: 200px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="comment">/* 提示信息 */</span></span></span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.regist-remark</span> &#123;</span></span><br><span class="line">            color: red;</span><br><span class="line">            display: none;</span><br><span class="line"><span class="css">            <span class="comment">/* 绝对定位 */</span></span></span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="comment">/* 根据包含块进行定位 */</span></span></span><br><span class="line">            top: 0;</span><br><span class="line">            left: 250px;</span><br><span class="line">            white-space: nowrap;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="comment">/* 输入框获得焦点显示提示信息 */</span></span></span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span>~<span class="selector-class">.regist-remark</span> &#123;</span></span><br><span class="line">            display: inline;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'regist-box'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"regist-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"regist-label"</span>&gt;</span>邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">class</span>=<span class="string">"regist-input"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"regist-remark"</span>&gt;</span>请输入邮箱！<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>眼见为实：</p><iframe src="/demo/frontend/absolute-positioning-without-dependence/demo1.html" width=100%></iframe></li><li><p>代码分析：<br>让我们来分析一下，这样的代码是如何的脆弱。改动输入框width/padding/margin或改动label的文字长度，都需要修改提示信息的偏移值。那么他的复用性就大大降低了，特别是应对动态生成元素时，需要借助js进行偏移计算。</p></li></ol><h2 id="无依赖的改造"><a href="#无依赖的改造" class="headerlink" title="无依赖的改造"></a>无依赖的改造</h2><ol><li><p>直接进入正题，对于上述应用场景的代码进行改造。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>demo2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.regist-box</span> &#123;</span></span><br><span class="line">            width: 300px;</span><br><span class="line"><span class="css">            <span class="comment">/* 容器定宽 */</span></span></span><br><span class="line">            margin: 0 auto;</span><br><span class="line"><span class="css">            <span class="comment">/* 为了便于观察给一个边框 */</span></span></span><br><span class="line">            border: 1px solid;</span><br><span class="line"><span class="css">            <span class="comment">/* 使其变成子元素的包含块 */</span></span></span><br><span class="line"><span class="css">            <span class="comment">/* position: relative; */</span></span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        input &#123;</span><br><span class="line">            width: 200px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="comment">/* 提示信息 */</span></span></span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.regist-remark</span> &#123;</span></span><br><span class="line">            color: red;</span><br><span class="line">            display: none;</span><br><span class="line"><span class="css">            <span class="comment">/* 绝对定位 */</span></span></span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="comment">/* 根据包含块进行定位 */</span></span></span><br><span class="line">            /*top: 0;</span><br><span class="line">            left: 250px;</span><br><span class="line">            white-space: nowrap;*/</span><br><span class="line"><span class="css">            <span class="comment">/* 利用margin进行偏移 */</span></span></span><br><span class="line">            margin-left: 10px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="comment">/* 输入框获得焦点显示提示信息 */</span></span></span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span>~<span class="selector-class">.regist-remark</span> &#123;</span></span><br><span class="line">            display: inline;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'regist-box'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"regist-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"regist-label"</span>&gt;</span>邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">class</span>=<span class="string">"regist-input"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"regist-remark"</span>&gt;</span>请输入邮箱！<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>眼见为实 <iframe src="/demo/frontend/absolute-positioning-without-dependence/demo2.html" width=100%></iframe></p></li><li><p>代码分析：<br>毫不犹豫的去掉硬塞给父元素的相对定位，同时也去掉了left/right，使用margin进行元素偏移。<br>代码中使用margin-left:10px从视觉上看就是相对于输入框向右偏移了10px，虽然实际上其脱离了文档流，但是margin的表现却如它还在文档流中一样。<br>如此一来，没有了“依赖”，其弹性大大提高。无论你label有多少文字、input有多宽，我都永远乖乖跟在你身后，不离不弃。  </p></li><li><p>小tip:<br>想让提示信息放到输入框前面只需要改动它们在文档中的排列顺序哦！这个可以自行尝试。</p><h2 id="其他应用"><a href="#其他应用" class="headerlink" title="其他应用"></a>其他应用</h2><p>下面将给出它的其他简单有趣应用。</p><h3 id="悬停展示下拉列表"><a href="#悬停展示下拉列表" class="headerlink" title="悬停展示下拉列表"></a>悬停展示下拉列表</h3></li><li><p>代码实现：  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>demo3<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.item</span> &#123;</span></span><br><span class="line">            display: inline-block</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.item</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.combo_box</span> &#123;</span></span><br><span class="line">            padding: 10px;</span><br><span class="line">            border: 1px solid;</span><br><span class="line">            width: 100px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.combo_box</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="comment">/* margin-left = -1 * (padding-left + border-left)  */</span></span></span><br><span class="line">            margin-left: -11px;</span><br><span class="line"><span class="css">            <span class="comment">/* margin-top =  padding-bottom + border-bottom  */</span></span></span><br><span class="line">            margin-top: 11px;</span><br><span class="line">            border-top: none;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="css">        <span class="selector-class">.item</span><span class="selector-pseudo">:hover</span>&gt;<span class="selector-class">.combo_box</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'box'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span>&gt;</span>linka11111<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"combo_box"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"subItem"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span>&gt;</span>linka111<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span>&gt;</span>linkb<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"combo_box"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"subItem"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span>&gt;</span>linkb1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"subItem"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span>&gt;</span>linkb2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span>&gt;</span>linkc<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>眼见为实：</p><iframe src="/demo/frontend/absolute-positioning-without-dependence/demo3.html" width=100%></iframe></li><li><p>代码分析：<br>如此布局，可以满足一些简单的下拉框需求，仅当item的padding/border改变时需要对margin进行修改，而修改item内文字长度、大小都不会影响布局。</p></li></ol><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>无依赖absolute绝对定位的舞台很大，我们可以思考曾经使用absolute实现的功能是否都能利用它来替换，使代码更简洁更健壮。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;聊起absolute定位，我们首先想到的就是找其包含块(containing block)或直接给父元素一个relative定位,然后根据包含块通过设置top,right,bottom,left属性值进行偏移。看起来，这是很常见的做法，但盲目的如此”套公式“，只能说你对absolute的理解不到家。&lt;/p&gt;
    
    </summary>
    
    
      <category term="front-end" scheme="https://ascodelife.github.io/categories/front-end/"/>
    
    
      <category term="html&amp;css" scheme="https://ascodelife.github.io/tags/html-css/"/>
    
      <category term="absolute" scheme="https://ascodelife.github.io/tags/absolute/"/>
    
      <category term="前端窍门" scheme="https://ascodelife.github.io/tags/%E5%89%8D%E7%AB%AF%E7%AA%8D%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://ascodelife.github.io/2020/04/12/hello-world/"/>
    <id>https://ascodelife.github.io/2020/04/12/hello-world/</id>
    <published>2020-04-12T08:04:27.387Z</published>
    <updated>2020-04-12T14:37:36.593Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
</feed>
